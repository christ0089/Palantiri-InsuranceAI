session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
- greet
- goodbye
- city_of_origin
- inform
- confirm
- deny
- cost
- how_it_works
- wrong_input
- repeat_question
- bot_challenge
entities:
- city
- sex
- name
- time
- bots
slots:
  A_has_insurance:
    type: text
    influence_conversation: true
  B_interested:
    type: any
    influence_conversation: false
  C_city:
    type: text
    influence_conversation: false
  D_reasoning_for_rejection:
    type: text
    influence_conversation: false
  # Data to query from customer
  name:
    type: text
    influence_conversation: false
  sex:
    type: text
    influence_conversation: true
  payment_date:
    type: text
    influence_conversation: false
  agent_name:
    type: text
    influence_conversation: false
  payment_amount:
    type: text
responses:
  utter_greet:
  - text: Muy bien {name}, mi nombre es Sari Agente de HDI Seguros, le llamo
      para facilitarle la póliza de su auto con descuneto quincenal, las coverturas que mas
      necesite. Usted ya cuenta con segur efectivo para su carro?
  utter_repeat:
  - text: Claro que sí la pregunta fue.

  utter_city_of_origin:
  - text: Disculpe, para ofrecerle una mejor propuesta, podría decirme ¿en qué ciudad
      vive usted?
  utter_sms:
  - custom:
      status: sms
  - text: Para su comodidad, le enviaré por mensaje para que conozca a detalle los
      beneficios de las opciones que tenemos para ud. asi como para que pueda darse una idea de sus ahorros.

  utter_happy:
  - text: Muy bien, tambien.
  utter_costs:
  - text: El costo depende de muchos factores, para ello necesitamos que complete
      las preguntas
  utter_goodbye:
  - custom:
      status: end_conversation
    text: Profesor {name} muchas gracias por su atención y el nos estaremos comunicando
      con usted
  utter_iamabot:
  - text: Me llamo Sari; y le marco a nombre del Profesor Juan Manuel Ríos Ortega,
      soy un Agente de OZCE Seguros.
#
#### Form 
#
  utter_submit:
  - custom:
      status: sms
    text: Pefecto gracias por los datos
  - custom:
      status: sms
    text: Gracias por los datos.
  utter_how_it_works:
  - text: Claro, al final de contestar la preguntas, un agente se contactar con usted para finalizar los detalles.
  utter_ask_A_has_insurance: 
  - text: Que bien! Es important estar bien protegidos para no perder nuestro patrimonio, le comentamos que podemos mejorar cualquier presupueto que ya tenga. Desea cotizar con nosotos algun plan que se ajusta a su medida?
  utter_ask_B_intersted:  
  - text: Desea cotizar con nosotos algun plan que se ajusta a su medida?
  utter_ask_C_city:
  - text: Disculpe, para ofrecerle una mejor propuesta, podría decirme ¿en qué ciudad
      vive usted?
  utter_reason_not_intersted:
  - text: para complementar esta llamada nos puede decir el motivo para comunicarnos con un asesor? 
actions:
- action_slot_reset
- action_slot_query
- action_session_start
#
# Form Validations
#
- validate_policy_sale
forms:
  policy_sale:
    A_has_insurance:
    - type: from_trigger_intent
      value: true
      intent: confirm
    - intent: deny
      type: from_intent
      value: false
    B_interested:
    - type: from_intent
      value: true
      intent: confirm
    - intent: deny
      type: from_intent
      value: false
    C_city:
    - entity: city
      intent: city_of_origin
      type: from_entity




